<template name="expensesImport">
  <h1 class="page-header">Import expenses</h1>

  <div>
    <div class="panel panel-default">
      <div class="panel-heading"><strong>Drag and drop files in drop zone below</strong></div>
      <div class="panel-body">
        <!-- Drop Zone -->
        <div class="upload-drop-zone" id="drop-zone">
            {{#filedrop dropHandlers}}
          <div class="ui segment {{#if filedrop_over}} red {{else}} {{#if filedrop_window}} orange {{/if}} {{/if}}">
            {{#if filedrop_over}}
              OK, you can drop it now!
            {{else}}
            {{#if filedrop_window}}
              Over here please!
            {{else}}
              Drop Files Here
            {{/if}}
            {{/if}}
          </div>
          {{/filedrop}}
        </div>
        <!-- Upload Finished -->
        <div class="js-upload-finished">
            <h3>Processed files</h3>
          <div class="list-group">
            {{#each droppedFiles}}
            <li class="list-group-item">
              {{this.name}}
              {{#unless processed}}<i class="fa fa-spin fa-refresh"></i>{{/unless}}
            </li>
            {{/each}}
          </div>
        </div>

        <!-- Show data -->
        <div class="processed-data">
        {{> reactiveTable class="table table-bordered table-hover" settings=tableSettings collection=expenses}}
        </div>
        <!-- Confirm import -->
        <div >
          <button class="btn btn-default" data-toggle="confirm-import" data-btnCancelLabel="No" data-btnOkLabel="Yes" data-data-placement="top" data-original-title title>Import data?</button>
        </div>
      </div>
    </div>
  </div>
</template>
